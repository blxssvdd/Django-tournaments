# Tournament Arena

Tournament Arena - веб-застосунок на Django для організації турнірів, команд і ростерів гравців із соціальною автентифікацією та користувацькими профілями.

## Можливості
- Турніри: створення, редагування та видалення турнірів із назвою, локацією, описом, датою та банером; впорядковані списки, кешований список для кожного користувача (30 с) і пагінований режим (3 на сторінку) з лічильником реєстрацій для авторизованих.
- Команди й гравці: створення команд з емблемами, прив'язка до турніру, редагування/видалення з перевіркою прав, приєднання або вихід з команди як користувач, унікальність складу за парою користувач-команда, ручне додавання гравців за наявності прав керування ростером.
- Реєстрації: додавання кількох слотів для себе на турнір, перегляд підсумку реєстрацій із загальною кількістю, зменшення або повне видалення запису за пару кліків.
- Акаунти та профілі: реєстрація з капчею, вхід/вихід, скидання та зміна паролю, одно-клік авторизація через Google (django-allauth), профіль із відображуваним ім'ям, біо та аватаром, підказки про успіх чи помилки на сторінках.
- Інтерфейс і зберігання: Django Templates з формами у стилі Bootstrap, збереження медіа у `media/`, легке кешування для швидкого відображення турнірів.

## Стек
- Django 5.2, Python 3.11+, MySQL (через `ENGINE/NAME/USER/PASSWORD/HOST/PORT`).
- Авторизація та безпека: django-allauth (Google), django.contrib.auth, captcha.
- Конфігурація: `pydantic-settings` читає `.env` через `config.py`.
- Медіа: Pillow для завантаження банерів, емблем та аватарів.
- Рантайм: `LocMemCache` для швидких списків; готовність до деплою через gunicorn.

## Структура проєкту
```
.
├── manage.py
├── config.py
├── GamesTournaments/   # турніри, команди, реєстрації
├── UserManager/        # автентифікація, профілі, соціальний вхід
├── templates/          # Django-шаблони
├── media/              # завантажені файли (у .gitignore)
├── requirements.txt
└── .env                # локальні секрети та налаштування БД
```

## Налаштування (локально)
1) Створіть віртуальне середовище та встановіть залежності:
```
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
```
2) Створіть `.env` у корені проєкту:
```
ENGINE=django.db.backends.mysql
NAME=tournaments_db
USER=tournaments_user
PASSWORD=your_password
HOST=localhost
PORT=3306
SECRET_KEY=django-insecure-change-me
```
3) Застосуйте міграції та створіть адміністратора:
```
python manage.py migrate
python manage.py createsuperuser
```
4) Запустіть сервер:
```
python manage.py runserver
```
5) (За бажання) Налаштуйте Google OAuth у `/admin/socialaccount/socialapp/`, після чого перевірте соціальний вхід.

## Корисні команди
- `python manage.py collectstatic --noinput` — зібрати статичні файли перед деплоєм.
- `python manage.py test` — запустити тести Django.
- `python manage.py changepassword <username>` — змінити пароль через CLI.
- `python manage.py shell` — видати права `manage_tournaments`, `manage_teams` чи `manage_roster` або налаштувати групи через код.

## Нотатки
- Списки турнірів кешуються для кожного користувача на 30 секунд; після редагування турніру/команди кеш скидається, тож зміни видно одразу.
- Медіа-файли зберігаються в `media/`; папка має бути доступною для запису локально й підключена до постійного сховища на продакшені.
- У розробці поштовий бекенд - консольний, тому перед використанням скидання паролю в продакшені підключіть SMTP.
